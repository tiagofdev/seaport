<div class="container-fluid" style="padding:0;">
  <div  class="container-fluid" style="margin:0;padding:0;">
    <nav class="navbar navbar-light fixed-top  bg-primary"
         style="background-image: var(--bs-gradient);clear:both;position: relative;
                margin-left:0;margin-right:0;">
      <div class="container justify-content-center">
        <a class="navbar-brand" href="#" style="font-size:28px;">Seaports </a>

      </div>
    </nav>
    <nav class="navbar navbar-light fixed-top  bg-warning"
         style="background-image: var(--bs-gradient);clear:both;position: relative;
                margin-left:0;margin-right:0;">
      <div class="container justify-content-center">
        <a class="navbar-brand" href="#" style="font-size:24px;" (click)="showData();">Data </a>
        <a class="navbar-brand" href="#" style="font-size:24px;padding-left:64px;" (click)="showSimulation();"
          >Simulation </a>
      </div>
    </nav>
  </div>
</div>

<!--Data-->
<ng-container *ngIf="component == false">
<!--Menu-->
  <div class="container-lg justify-content-center">
    <nav class="navbar navbar-light fixed-top"
         style="clear:both;position: relative;margin-left:0;margin-right:0;">
      <div class="container justify-content-center">
        <button class="btn" style="border:1px solid black;margin-right:16px;">Sort</button>
        <button class="btn" style="border:1px solid black;">Search</button>
      </div>
    </nav>
  </div>
<!--  Table-->
  <div class="container-lg">
  <table class="table">
    <thead>
      <tr>
        <th scope="col">Index</th>
        <th scope="col">Type</th>
        <th scope="col">Name</th>
        <th scope="col">Parent</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let key of data | keyvalue" style="list-style-type: none;">
        <tr>
        <td>{{key.value.index}}<p style="color:blue;">{{key.value.info}}</p></td>
        <td>{{key.value.type}}</td>
        <td>{{key.value.name}}</td>
        <td>{{key.value.parent}}</td>
        </tr>

      </ng-container>
    </tbody>
  </table>

  </div>

</ng-container>

<!--Simulation-->
<ng-container *ngIf="component == true">
<!--Menu-->
  <div class="container-lg justify-content-center">
    <nav class="navbar navbar-light fixed-top"
         style="clear:both;position: relative;margin-left:0;margin-right:0;">
      <div class="container justify-content-center">

        <button id="start" class="btn" style="border:1px solid black;margin-right:16px;"
          (click)="start()" [disabled]="!safeToStart">{{startButton}}</button>
        <button class="btn" style="border:1px solid black;margin-right:16px;"
          (click)="cancel()" [disabled]="!safeToCancel">Cancel All</button>
        <button class="btn" style="border:1px solid black;margin-right:16px;"
          (click)="pauseAll()" [disabled]="!safeToCancel">Pause All</button>
        <select #portSelect (change)="setSelected(portSelect.value)"
                aria-label="Port"  class="btn" style="border:1px solid black;height:38px;">
            <option disabled>Choose Port</option>
            <option class="option" [value]="'any'">All Ports</option>
          <ng-container *ngFor="let port of ports">
            <option class="option" [value]="port.name">{{port.name}}</option>
          </ng-container>
        </select>
        <br>
      </div>
      <div id="warning" class="container justify-content-center mt-3">{{warning}}</div>
    </nav>
  </div>
<!--Tables-->

  <ng-container *ngFor="let port of ports">
    <div class="container-lg" id="{{port.name}}">
      <h3>Port: {{port.name}}</h3>
      <table class="table table-sm">
        <thead>
          <tr>
            <th scope="col">Ship</th>
            <th scope="col">Dock</th>
            <th scope="col" style="width: 27%;">Jobs</th>
            <th style="width:48%;">
              <table class="table">
                <tr>
                  <th style="width:25%">Cancel</th>
                  <th style="width:25%">Pause</th>
                  <th style="width:25%">Progress</th>
                  <th style="width:25%">Status</th>
                </tr>
              </table>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ship of ships" scope="row">
            <ng-container *ngIf="ship.port === port.name">
              <td>{{ship.name}}
<!--                The status check is not working -->
                <ng-container *ngIf="ship.shipStatus.toString() === 'DOCKING'">
                  <p><button class="btn" style="border: 1px solid black;background-color: #fd4; margin-top:4px;"
                  >WAITING TO DOCK</button></p>
                </ng-container>
                <ng-container *ngIf="ship.shipStatus.toString() === 'ASSIGNING'">
                  <p><button class="btn" style="border: 1px solid black;background-color: orange; margin-top:4px;"
                  >ASSIGNING DOCK</button></p>
                </ng-container>
                <ng-container *ngIf="ship.shipStatus.toString() === 'DOCKED'">
                  <p><button class="btn" style="border: 1px solid black;background-color: #0275d8; margin-top:4px;"
                  >DOCKED</button></p>
                </ng-container>
                <ng-container *ngIf="ship.shipStatus.toString() === 'DEPARTED'">
                  <p><button class="btn" style="border: 1px solid black;background-color: gray; margin-top:4px;"
                  >GONE</button></p>
                </ng-container>
              </td>
              <td>{{ship.dock}}</td>
              <td colspan="7">
                <table class="table table-sm">
                  <ng-container *ngFor="let job of ship.jobs">
                    <tr>
                      <td style="width: 36%">
                        {{job.name}}
                        <p style="color:blue;word-break: break-all">
                          <strong>{{job.duration}}</strong>: {{job.requirements}}</p>
                      </td>
                      <td style="width: 16%"><button class="btn" style="border: 1px solid black;">Cancel</button></td>
                      <td style="width: 16%"><button class="btn" style="border: 1px solid black;">Pause</button></td>
                      <td style="width: 16%">
                        <div class="progress" style="height:34px;border: 1px solid black;margin-right:20%;
                              padding:0;width:80%;">
                          <div class="progress-bar" role="progressbar"
                               [style.width.%]="job.progress" attr.aria-valuenow="{{job.progress}}"
                               aria-valuemin="0" aria-valuemax="100">{{job.progress}}%</div>
                        </div>
                      </td>
                      <td style="width: 16%">
                        <ng-container *ngIf="job.jobStatus.toString() === 'WAITING'">
                          <button class="btn" style="border: 1px solid black;background-color: #fd4"
                            >{{job.jobStatus}}</button>
                        </ng-container>
                        <ng-container *ngIf="job.jobStatus.toString() === 'PROCESSING'">
                          <button class="btn" style="border: 1px solid black;background-color: #0275d8"
                          >{{job.jobStatus}}</button>
                        </ng-container>
                        <ng-container *ngIf="job.jobStatus.toString() === 'PAUSED'">
                          <button class="btn" style="border: 1px solid black;background-color: orange"
                          >{{job.jobStatus}}</button>
                        </ng-container>
                        <ng-container *ngIf="job.jobStatus.toString() === 'UNAVAILABLE'">
                          <button class="btn" style="border: 1px solid black;background-color: black;
                            color: white;">NO WORKERS</button>
                        </ng-container>
                        <ng-container *ngIf="job.jobStatus.toString() === 'CANCELED'">
                          <button class="btn" style="border: 1px solid black;background-color: red"
                          >{{job.jobStatus}}</button>
                        </ng-container>
                        <ng-container *ngIf="job.jobStatus.toString() === 'FINISHED'">
                          <button class="btn" style="border: 1px solid black;background-color: gray"
                          >{{job.jobStatus}}</button>
                        </ng-container>
                      </td>
                    </tr>
                  </ng-container>
                </table>
              </td>
            </ng-container>
          </tr>

          <tr>
        </tbody>
      </table>

    </div>
  </ng-container>

</ng-container>




<!--
<br><br><br>
<div  style="padding:0;">
  <p>Hello from Angular</p>
  <br>
  <br>
  <form #onesieForm="ngForm" (ngSubmit)="process()">
  <button type="submit">Start</button>
  </form>
  <br>
  <form #onesieForm="ngForm" (ngSubmit)="getSubject()">
    <button type="submit">Get Status</button>
  </form>
  <br>
  <form #onesieForm="ngForm" (ngSubmit)="stop()">
    <button type="submit">Stop</button>
  </form>
  <br>
  <p>Status:::</p>
  <p>{{counter}}: {{status}}</p>

</div>
-->


